<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OmniPhoto Studio Pro 4.8</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Lora:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles/NoirPremium.css">
<style>
  /* Estilos base mínimos. El resto se mueve a NoirPremium.css para theming */
  html,body{height:100%}
  body{
    margin:0; 
    overflow: hidden;
    transition: background-color 0.5s ease;
  }
  section[hidden]{display:none !important}
  #app-main { display: none; } /* Ocultar app por defecto */
</style>
</head>
<body>

  <div id="login-screen" class="login-container">
    <div class="login-box">
      <div class="logo-omnicorp-ia" style="width: 90px; height: 90px; margin: 0 auto 10px;"></div>
      <h1 class="login-main-title">OmniPhoto Studio Pro 4.8</h1>
      <p class="login-subtitle">Sistema de Edición IA por OmniCorp IA</p>
      <div class="login-form">
        <input type="text" placeholder="Usuario (prueba)" value="omnicorp_admin" readonly />
        <input type="password" placeholder="Contraseña" value="************" readonly />
        <button id="login-button" class="login-btn">Ingresar</button>
      </div>
       <div class="login-footer-structured">
          <p><span>Propiedad de:</span> OmniCorp IA</p>
          <p><span>Versión:</span> OmniPhoto Studio Pro 4.8 – Sistema de Edición IA</p>
          <p><span>Autoría:</span> HecJT & Kalel</p>
          <p class="login-motto">“Nosotros no creamos... transformamos.”</p>
      </div>
    </div>
  </div>

  <div id="app-main">
      <div class="pt-[64px] h-screen"> <!-- Padding top to offset the fixed banner -->
          <header class="topbar">
            <div class="brand">
              <div class="logo-omnicorp-ia" aria-hidden="true"></div>
              <h1>OmniPhoto Studio Pro <small>v4.8 Final Premium Edition</small></h1>
            </div>
            <div class="user-controls">
                <button id="theme-toggle" title="Cambiar Tema">
                    <svg id="theme-icon-standard" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none;"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
                    <svg id="theme-icon-premium" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none;"><path d="M12 3L9.5 8.5 4 11l5.5 2.5L12 19l2.5-5.5L20 11l-5.5-2.5z"></path></svg>
                </button>
                <div class="sig">Autoría: HecJT & Kalel</div>
            </div>
          </header>
        
          <div class="wrap">
            <aside>
              <div class="nav-group">
                <div class="nav-title">Edición IA</div>
                <div class="nav">
                  <button class="btn" data-target="editor"><span class="text-hover">Editor de fotos</span></button>
                  <button class="btn" data-target="lotes"><span class="text-hover">Edición por lotes</span><span class="chip">nuevo</span></button>
                  <button class="btn" data-target="restauracion"><span class="text-hover">Restauración</span></button>
                  <button class="btn" data-target="panoramica"><span class="text-hover">Foto Panorámica Pro</span></button>
                </div>
              </div>
        
              <div class="nav-group">
                <div class="nav-title">Gestión de eventos</div>
                <div class="nav">
                  <button class="btn" data-target="togas"><span class="text-hover">Togas y Graduaciones</span></button>
                  <button class="btn" data-target="promopack"><span class="text-hover">Promo Social (Reels/Ads)</span></button>
                </div>
              </div>
        
              <div class="nav-group">
                <div class="nav-title">Experiencia</div>
                <div class="nav">
                  <button class="btn" data-target="novia"><span class="text-hover">Novia Virtual</span></button>
                  <button class="btn" data-target="quince"><span class="text-hover">XV Virtual</span></button>
                  <button class="btn" data-target="salon"><span class="text-hover">Salón Interactivo</span></button>
                </div>
              </div>
            </aside>
        
            <main>
              <section id="editor" class="card"></section>
              <section id="lotes" class="card" hidden></section>
              <section id="restauracion" class="card" hidden></section>
              <section id="panoramica" class="card" hidden></section>
              <section id="togas" class="card" hidden></section>
              <section id="promopack" class="card" hidden></section>
              <section id="novia" class="card" hidden></section>
              <section id="quince" class="card" hidden></section>
              <section id="salon" class="card" hidden></section>
            </main>
        
            <aside class="right">
              <!-- Nicole IA component will be mounted here by React -->
            </aside>
          </div>
      </div>
  </div>

  <footer id="app-footer-root" class="fixed bottom-0 left-0 w-full z-50"></footer>


<script>
  // --- Login Logic ---
  const loginScreen = document.getElementById('login-screen');
  const appMain = document.getElementById('app-main');
  const loginButton = document.getElementById('login-button');

  const showApp = () => {
    loginScreen.style.display = 'none';
    appMain.style.display = 'block';
    localStorage.setItem('omnicore:auth', 'true');
    // Dispatch event to initialize app after showing it
    document.dispatchEvent(new Event('appAuthenticated'));
  };

  loginButton.addEventListener('click', showApp);

  if (localStorage.getItem('omnicore:auth') === 'true') {
    showApp();
  }

  // --- App Navigation Logic ---
  document.addEventListener('appAuthenticated', () => {
    const buttons = document.querySelectorAll('.btn');
    const sections = [...document.querySelectorAll('main > section')];
    
    const nicoleLines = {
        editor: "Editor de Fotos Premium listo. Carga una imagen para aplicar ajustes manuales o describe la edición que deseas con la IA.",
        lotes: "Procesamiento por Lotes: Sube múltiples imágenes, define un comando de IA y lo aplicaremos a todas de forma masiva.",
        restauracion: "Módulo de Restauración conectado. Sube una foto dañada para repararla. Activa el enfoque facial para mejores resultados en retratos.",
        panoramica: "Foto Panorámica Pro: Carga tus imágenes para unirlas en una sola. Luego, podrás quitar el fondo o añadir uno nuevo desde la galería.",
        togas: "Togas y Graduaciones: Sube un retrato y vístelo con el atuendo de graduación perfecto. Elige colores, estilos y fondos profesionales.",
        promopack: "Generador de Promo Social: Crea videos cortos para Reels o anuncios a partir de una imagen y un texto. El motor VEO está activo.",
        novia: "Estudio Novia Virtual: Diseña el look de novia ideal. Sube una foto base y combina vestidos y fondos de nuestra galería.",
        quince: "Estudio XV Virtual: Crea el retrato de quinceañera perfecto. Sube una foto y elige entre vestidos y escenarios de ensueño.",
        salon: "Diseñador de Salón Interactivo: Diseña el plano de tu evento. Describe la distribución o sube una foto del lugar para que la IA genere el layout."
    };

    function show(id){
      sections.forEach(s => s.hidden = (s.id !== id));
      buttons.forEach(b => b.classList.toggle('active', b.dataset.target===id));
      localStorage.setItem('omnicore:last', id);
      const text = nicoleLines[id] || "Módulo activado. ¿Qué vamos a crear hoy?";
      document.dispatchEvent(new CustomEvent('nicole-speak', { detail: { text } }));
    }
    window.show = show;

    buttons.forEach(b => b.addEventListener('click', () => show(b.dataset.target)));
    
    // Initial load
    const lastView = localStorage.getItem('omnicore:last') || 'editor';
    show(lastView);

    // Theme switcher
    const themeToggle = document.getElementById('theme-toggle');
    const standardIcon = document.getElementById('theme-icon-standard');
    const premiumIcon = document.getElementById('theme-icon-premium');
    const body = document.body;

    function setTheme(theme) {
        if (theme === 'premium') {
            body.classList.add('theme-premium');
            standardIcon.style.display = 'none';
            premiumIcon.style.display = 'block';
            localStorage.setItem('omnicore:theme', 'premium');
        } else { // standard
            body.classList.remove('theme-premium');
            standardIcon.style.display = 'block';
            premiumIcon.style.display = 'none';
            localStorage.setItem('omnicore:theme', 'standard');
        }
    }

    themeToggle.addEventListener('click', () => {
        body.classList.contains('theme-premium') ? setTheme('standard') : setTheme('premium');
    });

    const savedTheme = localStorage.getItem('omnicore:theme') || 'standard'; // Default to standard
    setTheme(savedTheme);
  });

</script>
<script type="importmap">
    {
      "imports": {
        "react": "https://aistudiocdn.com/react@^19.2.0",
        "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
        "react/": "https://aistudiocdn.com/react@^19.2.0/",
        "@google/genai": "https://aistudiocdn.com/@google/genai@^1.28.0"
      }
    }
    </script>
    <script type="module" src="/index.tsx"></script>
</body>
</html>